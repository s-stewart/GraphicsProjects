The frames tab contains the code to convert frames and vectors back and forth between local and global coordinate systems.

Brown balls move in both x and y, orange ones move only in z.

